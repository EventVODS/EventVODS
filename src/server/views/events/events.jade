extends ../layout

block content
	div.event-container(ng-app="event", ng-controller="eventList as events", ng-cloak)
		div.contextHead
			div.leftSide
				a.btn.lg.solid.icon(href="/events/new")
					i.icon-file-add
					span Create Event
			div.rightSide
				div.filterControl
					a(href="#") Show Filter Controls
				div.viewSelect
					div.listView(ng-click="events.listView = true", ng-class="events.listView ? 'active' : ''")
						i.icon-list
						span List View
					div.gridView(ng-click="events.listView = false",  ng-class="events.listView ? '' : 'active'")
						i.icon-grid
						span Grid View
		div.listView.events(ng-show="events.listView == true")
			table.standard
				thead
					tr
						th Date
						th Title
						th Game
						th User
						th Status
						th 
						th 	
				tbody
					tr(ng-repeat="event in events.listData")
						td.date {{event.eventStartDate | date : "dd MMM"}}
						td.title {{event.eventTitle}}
						td.game {{event.eventGame}}
						td.user {{event.user.username}}
						td.status.draft {{event.eventStatus}}
						td.edit
							a(ng-href="/event/{{event._id}}/edit")
								i.icon-pencil
						td.url
							a(ng-href="/event/{{event._id}}")
								i.icon-logout
								
		div.gridView.events(ng-show="events.listView == false")
			div.pagination 
				| Page {{events.page}} of {{events.pages}}
			div.grid
				div.item(ng-repeat="event in events.listData", ng-style="{'background-image': 'url(\"/assets/images/'+event.eventImageLoc+'\")'}")
					div.overlay.hover
						a.btn.sm.solid(ng-href="/event/{{event._id}}/edit") Edit Event
					div.gradient.overlay
					div.status.draft {{event.eventStatus}}
					div.text
						div.date {{event.eventStartDate | date : "MMM dd, yyyy"}}
						div.title {{event.eventTitle}}
				
block scripts
	script(src='/assets/js/app/services/event.js')
	script(src='/assets/js/app/controllers/event.js')